<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Are my encoders working? &mdash; ZetaBank - AgriBot Instruction Guide</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/toc_custom.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sphinxcontrib-images\LightBox2\lightbox2\dist\css\lightbox.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/toc_custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script src="../_static/sphinxcontrib-images\LightBox2\lightbox2\dist\js\lightbox-plus-jquery.min.js"></script>
        <script src="../_static/sphinxcontrib-images\LightBox2\lightbox2-customize\jquery-noconflict.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Water Pressure" href="6.water_pressure.html" />
    <link rel="prev" title="Why is my AgriBot not moving?" href="4.why_is_my_agribot_not_moving.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            AgriBot Instruction Guide
              <img src="../_static/logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.1.3
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Hardware</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../hardware/1.overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hardware/0.index.html">Features</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../hardware/2.safety.html">Safety</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/3.tools.html">Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/4.electronics.html">Electronics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/5.questions.html">Frequently Asked Questions</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Assembly</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../assembly/1.preparation.html">Preparation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assembly/0.index.html">Instruction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../assembly/2.tracks.html">Tracks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../assembly/3.gantry.html">Gantry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../assembly/4.cross-slide.html">Cross-Slide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../assembly/5.z-axis.html">Z-Axis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../assembly/6.cables_and_tubing.html">Cables and Tubing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../assembly/7.tools.html">Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../assembly/8.electronics.html">Electronics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../assembly/9.final.html">Final Steps</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Maintenance</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../maintenance/0.index.html">Maintenance</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../maintenance/1.general_mainternance.html">General Maintenance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../maintenance/2.track_mainternance.html">Track Maintenance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../maintenance/3.gantry_maintenance.html">Gantry Maintenance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../maintenance/4.utm_and_tool_maintenance.html">UTM and Tool Maintenance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../maintenance/5.storing_agribot_for_winter.html">Storing AgriBot for Winter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../maintenance/6.thermal_management.html">Thermal Management</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Troubleshooting</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="0.index.html">Troubleshooting</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="1.picking_up_seeds.html">Picking Up Seeds</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.z-axis_movements.html">Z-Axis Movements</a></li>
<li class="toctree-l2"><a class="reference internal" href="3.track_tolerance.html">Track Tolerance</a></li>
<li class="toctree-l2"><a class="reference internal" href="4.why_is_my_agribot_not_moving.html">Why is my AgriBot not moving?</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Are my encoders working?</a></li>
<li class="toctree-l2"><a class="reference internal" href="6.water_pressure.html">Water Pressure</a></li>
<li class="toctree-l2"><a class="reference internal" href="7.tool_verification.html">Tool Verification</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference Docs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reference_docs/0.index.html">Reference Docs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../reference_docs/1.basic_tool_hardware.html">Basic Tool Hardware</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_docs/2.belt_installation.html">Belt Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_docs/3.eccentric_spacer_adjustment.html">Eccentric Spacer Adjustment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_docs/4.agriduino_peripheral_pin_numbers.html">Farmduino Peripheral Pin Numbers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_docs/5.pinout_references.html">Pinout References</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Software</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../software/0.index.html">Software</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../software/1.overview.html">Software Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../software/2.install.html">Install AgriBot</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">AgriBot Instruction Guide</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="0.index.html">Troubleshooting</a></li>
      <li class="breadcrumb-item active">Are my encoders working?</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/troubleshooting/5.are_my_encoders_working.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="are-my-encoders-working">
<h1>Are my encoders working?<a class="headerlink" href="#are-my-encoders-working" title="Permalink to this heading"></a></h1>
<ul class="simple">
<li><p class="linemarker linemarker-4">Problem description: AgriBot is having trouble with measuring movements.</p></li>
<li><p class="linemarker linemarker-6">Learn how to interpret and diagnose common encoder issues, what causes them, and how to fix them.</p></li>
<li><p class="linemarker linemarker-8">A rotary encoder, also called a shaft encoder, is an electro-mechanical device that converts the angular position or motion of a shaft or axle to analog or digital output signals.</p></li>
<li><p class="linemarker linemarker-10">The output of the AgriBot encoder provides information about the motion of the shaft, which is processed by the Agriduino into information such as position, speed and acceleration.</p></li>
</ul>
<a class=""
               data-lightbox="group-1be97ba3-73d2-4ffe-86c8-b9e0aa97f72e"
               href="../_images/are_my_encoders_working11.jpg"
               title=""
               data-title=""
               
               ><img src="../_images/are_my_encoders_working11.jpg"
                     class=""
                     width="100%"
                     height="auto"
                     alt=""/>
                </a><ul class="simple">
<li><p class="linemarker linemarker-14">In this case you have enabled the encoders in the Hardware widget on the Device page and are experiencing movement issues.</p></li>
<li><p class="linemarker linemarker-16">For movement issues with encoders disabled, see the troubleshooting document Why is my AgriBot not moving?</p></li>
<li><p class="linemarker linemarker-18">Make sure movement works well with encoders disabled before proceeding with this troubleshooting guide.</p></li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
<section id="symptoms-of-encoders-not-working">
<h2>Symptoms of encoders not working<a class="headerlink" href="#symptoms-of-encoders-not-working" title="Permalink to this heading"></a></h2>
<ol class="arabic simple">
<li><p class="linemarker linemarker-25">The motors keep moving and don’t stop when hitting the end of an axis.</p></li>
<li><p class="linemarker linemarker-27">The encoders always display 0 in Controls page Move widget, even when motors do not.</p></li>
</ol>
<a class=""
               data-lightbox="group-97b37a33-e043-47f4-b12b-7764a5c15649"
               href="../_images/are_my_encoders_working21.png"
               title=""
               data-title=""
               
               ><img src="../_images/are_my_encoders_working21.png"
                     class=""
                     width="100%"
                     height="auto"
                     alt=""/>
                </a><div class="line-block">
<div class="line"><br /></div>
</div>
<ol class="arabic simple">
<li><p class="linemarker linemarker-33">The displayed position in the Farm Designer (or Move widget motor coordinates) resets to zero after a movement to a non-zero location is complete.</p></li>
<li><p class="linemarker linemarker-35">If you send a command to move an axis in one direction from about the middle of the axis, then push it back manually in the opposite direction while it’s moving, it continues trying to move and doesn’t pause to retry the movement.</p></li>
<li><p class="linemarker linemarker-37">If you unplug the motor cables and move the motors slowly by hand, the encoders always display 0 in Controls page Move widget as shown in the screenshot above.</p></li>
</ol>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="potential-solutions-for-encoders-not-working">
<h2>Potential solutions for encoders not working<a class="headerlink" href="#potential-solutions-for-encoders-not-working" title="Permalink to this heading"></a></h2>
<ol class="arabic simple">
<li><p class="linemarker linemarker-44">Check to make sure encoders are plugged in to the correct axes.</p></li>
<li><p class="linemarker linemarker-46">Check the encoder connections and ensure the connectors are securely in place. Test the continuity of each cable wire with a multi-meter.</p></li>
<li><p class="linemarker linemarker-48">Make sure the firmware version selected matches the kit hardware version you have. (Agriduino with red power connector: v1.4)</p></li>
<li><p class="linemarker linemarker-50">Unplug and plug back in the power supply to reset the firmware.</p></li>
<li><p class="linemarker linemarker-52">Reflash the firmware by factory resetting and configuring AgriBot OS again. (Alternatively, select a different FIRMWARE in the Device widget and then select the desired firmware again. You should see logs indicating that the firmware has been flashed.)</p></li>
</ol>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="symptoms-of-encoders-working-but-incorrect-settings">
<h2>Symptoms of encoders working, but incorrect settings<a class="headerlink" href="#symptoms-of-encoders-working-but-incorrect-settings" title="Permalink to this heading"></a></h2>
<ol class="arabic simple">
<li><p class="linemarker linemarker-59">Moving an axis, or pressing Home axis or Calibrate axis results in an immediate stop.</p></li>
<li><p class="linemarker linemarker-61">Moving an axis results in the motor starting and immediately stopping several times. With the default number of movement retries, the motor will appear to pulse three times with little to no movement of the axis.</p></li>
<li><p class="linemarker linemarker-63">Disabling encoders results in correct movement.</p></li>
</ol>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="potential-solutions-for-encoders-working-poorly">
<h2>Potential solutions for encoders working poorly<a class="headerlink" href="#potential-solutions-for-encoders-working-poorly" title="Permalink to this heading"></a></h2>
<ol class="arabic simple">
<li><p class="linemarker linemarker-70">Try inverting the encoders in the Hardware settings widget.</p></li>
<li><p class="linemarker linemarker-72">Reduce the maximum motor speed to 80 (or 16 for z-axis) in Hardware settings.</p></li>
<li><p class="linemarker linemarker-74">Increase the number of steps used for acceleration to 100 (or 20 for z-axis). (Alternatively, try a zero or near zero value.)</p></li>
<li><p class="linemarker linemarker-76">Decrease the minimum speed to 10 (or 2 for z-axis). (Alternatively, increase the minimum speed to 40 (or 8 for z-axis).)</p></li>
</ol>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="advanced-troubleshooting-of-rotary-encoders-using-oscilloscopes">
<h2>Advanced troubleshooting of rotary encoders using oscilloscopes<a class="headerlink" href="#advanced-troubleshooting-of-rotary-encoders-using-oscilloscopes" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p class="linemarker linemarker-83">If you have access to an oscilloscope you may be able to troubleshoot the encoder and determine if it is faulty or performing poorly.</p></li>
<li><p class="linemarker linemarker-85">Common symptoms of poorly performing rotary encoders include extended encoder pulses, encoder signal jitters, low amplitude signals, and other types irregular signals.</p></li>
<li><p class="linemarker linemarker-87">The graphic below is an excerpt from the Honest Sensor HS28A Encoder module data sheet and it shows how the signals should look as the shaft goes in the counter clockwise direction.</p></li>
<li><p class="linemarker linemarker-89">There are other resources, documentation and diagnostic available online to help with advanced troubleshooting of rotary encoders.</p></li>
</ul>
<a class=""
               data-lightbox="group-333e24cd-019e-4c28-8627-29cb7ab99f90"
               href="../_images/are_my_encoders_working31.bmp"
               title=""
               data-title=""
               
               ><img src="../_images/are_my_encoders_working31.bmp"
                     class=""
                     width="100%"
                     height="auto"
                     alt=""/>
                </a></section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="4.why_is_my_agribot_not_moving.html" class="btn btn-neutral float-left" title="Why is my AgriBot not moving?" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="6.water_pressure.html" class="btn btn-neutral float-right" title="Water Pressure" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright .</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-17821189-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-17821189-2', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>